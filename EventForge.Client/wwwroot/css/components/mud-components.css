/*
 EventForge - MudBlazor components stylesheet
 Path: wwwroot/css/components/mud-components.css

 Scopo:
 - Centralizzare classi riutilizzabili per i componenti MudBlazor usati nel client
 - Fornire helper classes per allineare al design system: altezze uniformi, spacing, toolbar/action groups, drawer/dialogs
 - Supportare modalitï¿½ dark, high-contrast e prefer-reduced-motion

 Uso:
 - Applicare la classe EF corrispondente al componente Blazor, es:
 <MudButton Class="ef-btn">...</MudButton>
 <MudTextField Class="ef-input">...</MudTextField>
 <MudSelect Class="ef-select">...</MudSelect>
 <MudNumericField Class="ef-numeric">...</MudNumericField>
 <MudDatePicker Class="ef-datepicker">...</MudDatePicker>
 <MudTimePicker Class="ef-timepicker">...</MudTimePicker>
 <MudAutocomplete Class="ef-autocomplete">...</MudAutocomplete>
 - Le classi non sovrascrivono il comportamento di MudBlazor ma garantiscono coerenza visiva
*/

:root {
 --ef-input-height:40px; /* target height for main form fields */
 --ef-button-height:40px; /* primary and toolbar buttons */
 --ef-icon-size-small:20px;
 --ef-icon-size-medium:24px;
 --ef-gap:16px; /* gap-2 baseline */
 --ef-gap-lg:24px; /* gap-3 */
 --ef-field-height:40px; /* unified field height for consistency */
}

/* -------------------------
Height Normalization
Apply to all MudBlazor inputs, selects, and buttons for consistent 40px height
------------------------- */

/* Inputs and Selects - height normalization using ef-* helper classes */
/* Use min-height instead of fixed height for better flexibility */
.ef-input .mud-input-root,
.ef-select .mud-input-root,
.ef-numeric .mud-input-root,
.ef-datepicker .mud-input-root,
.ef-timepicker .mud-input-root,
.ef-autocomplete .mud-input-root {
    min-height: var(--ef-field-height) !important;
    box-sizing: border-box !important;
}

/* Ensure internal elements flex to fit without adding extra height */
.ef-input .mud-input-slot,
.ef-select .mud-input-slot,
.ef-numeric .mud-input-slot,
.ef-datepicker .mud-input-slot,
.ef-timepicker .mud-input-slot,
.ef-autocomplete .mud-input-slot {
    min-height: unset !important;
    height: 100%;
}

/* Select input internal styling */
.ef-select .mud-select-input {
    height: auto;
    padding: 6px 0;
    display: flex;
    align-items: center;
    box-sizing: border-box !important;
}

/* Numeric field input internal styling */
.ef-numeric .mud-input-input-control {
    height: auto;
    padding: 6px 0;
    display: flex;
    align-items: center;
    box-sizing: border-box !important;
}

/* DatePicker and TimePicker input internal styling */
.ef-datepicker .mud-input-input-control,
.ef-timepicker .mud-input-input-control {
    height: auto;
    padding: 6px 0;
    display: flex;
    align-items: center;
    box-sizing: border-box !important;
}

/* Autocomplete input internal styling */
.ef-autocomplete .mud-input-control {
    height: auto;
    padding: 6px 0;
    display: flex;
    align-items: center;
    box-sizing: border-box !important;
}

/* Buttons - standardize height excluding icon-only buttons */
.mud-button-root:not(.mud-icon-button) {
    min-height: var(--ef-button-height) !important;
}

/* Icon buttons preserve their compact size */
.mud-icon-button {
    /* No height override - keep default compact size */
}

/* -------------------------
 Generic spacing helpers
 ------------------------- */
.ef-pa-standard { padding:16px; }
.ef-pa-compact { padding:8px; }
.ef-mb-4 { margin-bottom:16px; }
.ef-gap { gap: var(--ef-gap); }
.ef-gap-lg { gap: var(--ef-gap-lg); }

/* -------------------------
 Buttons
 ------------------------- */
.ef-btn {
 display: inline-flex;
 align-items: center;
 justify-content: center;
 min-height: var(--ef-button-height);
 height: var(--ef-button-height);
 padding:0 12px;
}
/* Small variant for table rows / compact toolbars */
.ef-btn-small { min-height:36px; height:36px; padding:0 8px; }

/* Ensure icon buttons preserve circular hit area */
.ef-icon-btn {
 min-width: var(--ef-button-height);
 min-height: var(--ef-button-height);
 width: var(--ef-button-height);
 height: var(--ef-button-height);
 display: inline-flex;
 align-items: center;
 justify-content: center;
 border-radius:6px;
}

/* -------------------------
 Inputs / Selects / Textareas
 Apply to root element of MudTextField/MudSelect/MudNumericField/MudDatePicker/MudTimePicker/MudAutocomplete using Class="ef-*"
 All non-multiline input components use consistent height normalization
 ------------------------- */
.ef-textarea .mud-input-root {
 min-height: var(--ef-input-height);
 box-sizing: border-box;
}

/* All other input types (ef-input, ef-select, ef-numeric, ef-datepicker, ef-timepicker, ef-autocomplete) 
   are handled in the Height Normalization section above */

/* Fix alignment for adornments/icons inside all input types */
.ef-input .mud-input-adornment,
.ef-select .mud-input-adornment,
.ef-numeric .mud-input-adornment,
.ef-datepicker .mud-input-adornment,
.ef-timepicker .mud-input-adornment,
.ef-autocomplete .mud-input-adornment {
 height: 100%;
 display: inline-flex;
 align-items: center;
}

/* Helper for helper text styling (consistent across drawers and forms) */
.ef-helper-text { font-size:0.75rem; margin-top:4px; color: var(--mud-palette-text-secondary); }

/* -------------------------
 Cards and containers
 ------------------------- */
.ef-card { padding:16px; border-radius:8px; }
.ef-card-compact { padding:12px; }
.ef-card-header { display: flex; align-items: center; justify-content: space-between; gap:12px; }

/* Standardized card spacing for full-width sections */
.ef-section { margin-bottom:16px; }

/* -------------------------
 Tables
 ------------------------- */
.ef-table .mud-table-container {
 width:100%;
}
.ef-table .mud-table thead th { font-weight:600; }
.ef-table .ef-truncate { max-width:200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

/* Table toolbar and pager alignment */
.ef-table-toolbar { display: flex; align-items: center; justify-content: space-between; gap:12px; }

/* -------------------------
 Drawer / Dialog
 ------------------------- */
.ef-drawer { display: flex; flex-direction: column; }
.ef-drawer .ef-drawer-header { padding:12px; border-bottom:1px solid var(--mud-palette-lines-default); }
.ef-drawer .ef-drawer-content { padding:12px; overflow-y: auto; }
.ef-drawer .ef-drawer-actions { padding:12px; border-top:1px solid var(--mud-palette-lines-default); display:flex; justify-content:flex-end; gap:12px; }

/* Dialog actions consistent sizing */
.ef-dialog-action .mud-button { min-height: var(--ef-button-height); height: var(--ef-button-height); }

/* -------------------------
 Action button groups / toolbars
 ------------------------- */
.ef-action-group { display: inline-flex; align-items: center; gap:8px; }
.ef-action-group.toolbar { gap:12px; }
.ef-action-group .mud-icon-button { padding:6px; }

/* Ensure toolbar mode uses medium-size buttons by default */
.ef-action-group.toolbar .ef-btn,
.ef-action-group.toolbar .mud-icon-button { min-height: var(--ef-button-height); height: var(--ef-button-height); }

/* -------------------------
 Chips / Badges / Avatars
 ------------------------- */
.ef-chip-small .mud-chip { height:28px; min-height:28px; }
.ef-chip-medium .mud-chip { height:36px; min-height:36px; }

.ef-badge { line-height:1; }
.ef-avatar-sm { width:32px; height:32px; font-size:0.9rem; }
.ef-avatar-md { width:40px; height:40px; font-size:1rem; }
.ef-avatar-lg { width:56px; height:56px; font-size:1.25rem; }

/* -------------------------
 Icons
 ------------------------- */
.ef-icon-sm { font-size: var(--ef-icon-size-small); }
.ef-icon-md { font-size: var(--ef-icon-size-medium); }

/* -------------------------
 Tooltip / Help
 ------------------------- */
.ef-help-tooltip .mud-tooltip { max-width:300px; }
.ef-help-tooltip .mud-tooltip .mud-text { line-height:1.3; }

/* -------------------------
 Responsive & Accessibility
 ------------------------- */
@media (max-width:768px) {
 :root { --ef-input-height:36px; --ef-button-height:36px; --ef-field-height:36px; }
 .ef-drawer { width:100vw !important; }
}

@media (prefers-reduced-motion: reduce) {
 * { transition: none !important; animation: none !important; }
}

@media (prefers-contrast: high) {
 .ef-drawer .ef-drawer-header,
 .ef-drawer .ef-drawer-actions { border-color: var(--mud-palette-text-primary); }
}

/* -------------------------
 Migration helpers - utility classes to apply quickly
 ------------------------- */
.ef-full-width { width:100%; }
.ef-compact-row { display:flex; gap:12px; align-items:center; }
.ef-form-row { display:flex; gap:16px; align-items:center; flex-wrap:wrap; }

/* End of EventForge MudBlazor component styles */
